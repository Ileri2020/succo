import{d as p,r as s,N as v,j as r,a as n,Q as w}from"./main-BXyD27bE.js";import{s as j}from"./env-DNiXIRIH.js";const N=()=>{const o=p(),[d,i]=s.useState([]),[l,m]=s.useState(null),[x,c]=s.useState(!0),f=(e,t,u,h)=>{o(w.addToCart({name:e,id:t,price:u,img:h}))},a=v();return s.useEffect(()=>{fetch(`${j+"/api/v1/post/stocks"}`).then(e=>e.json()).then(e=>e.slice().sort(()=>Math.random()-.5)).then(e=>{i(e),e.forEach(t=>{console.log(t._id,t.name,t.price)}),c(!1)}).catch(e=>{m(e),alert("unable to connect to server please check your network connection"),c(!0)})},[]),x?r.jsx("p",{children:"Loading..."}):l?r.jsxs("p",{children:["Error: ",l]}):r.jsx("div",{className:"h-full max-w-[500px] md:max-w-[1000px] flex gap-5 flex-wrap mx-5 p-2 self-center justify-between overflow-clip",children:d.map((e,t)=>r.jsxs("div",{className:"w-[100vw] md:w-[200px] /h-[150px] /md:h-[300px] mb-5 flex flex-row md:flex-col overflow-clip",children:[r.jsx("div",{onClick:()=>a(`/store/${e._id}`,{replace:!0}),className:"h-full md:h-[60%] w-[30%] md:w-full mx-2 md:mx-0 flex justify-center items-center",children:r.jsx("img",{src:e.img,alt:"",className:"h-full rounded-sm"})}),r.jsxs("div",{className:"flex flex-1 flex-col text-start md:text-center mx-2 md:mx-0 justify-between md:justify-normal md:items-center",children:[r.jsxs("div",{onClick:()=>a(`/store/${e._id}`,{replace:!0}),className:"w-full md:text-center flex flex-col md:justify-center md:items-center",children:[r.jsx("div",{className:"font-semibold",children:e.name}),r.jsxs("div",{className:"font-semibold text-foreground/80",children:["â‚¦ ",e.price]})]}),r.jsxs("div",{className:"flex flex-row gap-1 w-full px-5",children:[r.jsx(n,{onClick:()=>a(`/store/${e._id}`),className:"rounded-lg flex-1 w-full font-semibold text-background hover:bg-accent/10 hover:border-2 hover:border-accent hover:text-accent",children:"view"}),r.jsx(n,{onClick:()=>f(e.name,e._id,e.price,e.img),variant:"outline",className:"rounded-lg flex-1 w-full font-semibold text-accent-secondary border-accent-secondary hover:bg-accent-secondary/60 hover:text-background border-2",children:"cart"})]})]})]},t))})};export{N as default};
